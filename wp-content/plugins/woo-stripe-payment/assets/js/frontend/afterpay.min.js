!function(a,e){function t(){}function i(t){e.BaseGateway.call(this,t),e.ProductGateway.call(this),a(document.body).on("change",'[name="quantity"]',this.mount_message.bind(this,!0))}function r(t){e.BaseGateway.call(this,t),e.CartGateway.call(this)}t.prototype.get_element_options=function(){var t=this.params.locale;return"GBP"===this.get_currency()&&["fr-FR","it-IT","es-ES"].indexOf(t)<0?t="en-GB":this.params.supported_locales.indexOf(this.params.locale)<0&&(t="auto"),{locale:t}},(i.prototype=a.extend({},e.BaseGateway.prototype,e.ProductGateway.prototype,t.prototype,e.Afterpay.prototype)).initialize=function(){this.msgElement||(this.create_element(),this.mount_message(),this.add_eligibility("#wc-stripe-afterpay-product-msg",this.get_product_price()))},i.prototype.get_product_price=function(t){var e=(e=a('[name="quantity"]').val())||0;return t?this.get_product_data().price*Math.pow(10,2)*parseInt(e):this.get_product_data().price*parseInt(e)},i.prototype.create_element=function(){this.msgElement=this.elements.create("afterpayClearpayMessage",a.extend({},this.params.msg_options,{amount:this.get_product_price(!0),currency:this.get_currency()}))},i.prototype.mount_message=function(t){t&&this.msgElement&&this.msgElement.update({amount:this.get_product_price(!0),currency:this.get_currency(),isEligible:this.is_eligible(this.get_product_price())}),a("#wc-stripe-afterpay-product-msg").length||a(".summary .price").append('<div id="wc-stripe-afterpay-product-msg"></div>'),this.msgElement.mount("#wc-stripe-afterpay-product-msg")},(r.prototype=a.extend({},e.BaseGateway.prototype,e.CartGateway.prototype,t.prototype,e.Afterpay.prototype)).initialize=function(){!this.msgElement&&a(this.container).length&&(this.create_element(),this.mount_message(),this.add_eligibility("#wc-stripe-afterpay-cart-container",this.get_total_price()))},r.prototype.create_element=function(){this.msgElement=this.elements.create("afterpayClearpayMessage",a.extend({},this.params.msg_options,{amount:this.get_total_price_cents(),currency:this.get_currency()}))},r.prototype.mount_message=function(t){t&&this.msgElement&&this.msgElement.update({amount:this.get_total_price_cents(),currency:this.get_currency(),isEligible:this.is_eligible(parseFloat(this.get_total_price()))}),a("#wc-stripe-afterpay-cart-container").length||a(".cart_totals table.shop_table > tbody").append('<tr id="wc-stripe-afterpay-cart-container"><td colspan="2"><div id="wc-stripe-afterpay-cart-msg"></div></td></tr>'),this.msgElement.mount("#wc-stripe-afterpay-cart-msg")},r.prototype.updated_html=function(){a(this.container).length&&(this.mount_message(!0),this.add_eligibility("#wc-stripe-afterpay-cart-container",this.get_total_price()))},"undefined"!=typeof wc_stripe_afterpay_product_params?new i(wc_stripe_afterpay_product_params):"undefined"!=typeof wc_stripe_afterpay_cart_params&&new r(wc_stripe_afterpay_cart_params)}(jQuery,window.wc_stripe);